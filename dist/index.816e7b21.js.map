{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const productWrapper = document.querySelector(\".product-wrapper\");\r\nconst addedProduct = document.querySelector(\".added-products\");\r\nconst modalClose = document.querySelector(\".modal-close\");\r\nconst modal = document.querySelector(\".modal\");\r\nconst cart = document.querySelector(\".cart\");\r\nconst itemCount = document.querySelector(\".item-count\");\r\n\r\n//=================================================================================================================//\r\n// fetching product\r\n//=================================================================================================================//\r\n\r\nfunction getProducts() {\r\n  fetch(\"http://localhost:8000/products\")\r\n    .then((res) => {\r\n      if (!res.ok)\r\n        throw new Error(\"Products not found, please try again later!\");\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      renderProducts(data);\r\n      renderLocalData(data);\r\n    })\r\n    .catch((err) => renderError(err));\r\n}\r\n\r\ngetProducts();\r\n\r\n//=================================================================================================================//\r\n// currency formate\r\n//=================================================================================================================//\r\n\r\nfunction currencyFormate(price) {\r\n  return price.toLocaleString(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\",\r\n  });\r\n}\r\n\r\n//=================================================================================================================//\r\n// rendering data\r\n//=================================================================================================================//\r\n\r\nfunction renderProducts(products) {\r\n  products.forEach((product) => {\r\n    html = `\r\n      <div\r\n          class=\"product overflow-hidden w-96 bg-white/75 shadow-xl backdrop-blur-lg rounded-lg shadow-gray-200\"\r\n        >\r\n          <div\r\n            class=\"product-img h-75 overflow-hidden p-3 flex justify-center items-center\"\r\n          >\r\n            <img\r\n              src=${product.image}\r\n              alt=${product.title}\r\n              class=\"w-full block\"\r\n            />\r\n          </div>\r\n          <div class=\"product-text p-5 flex flex-col gap-1\">\r\n            <p class=\"text-sm font-semibold text-violet-500 tracking-widest\">${\r\n              product.catagory\r\n            }</p>\r\n            <h3 class=\"text-2xl font-semibold truncate text-black/80\">\r\n              ${product.title}\r\n            </h3>\r\n            <p class=\"text-2xl text-rose-500 font-semibold\">\r\n              ${currencyFormate(product.price)}\r\n              <span class=\"text-sm font-semibold text-gray-500\"\r\n                >(${product.review} reviews)</span\r\n              >\r\n            </p>\r\n            <button\r\n            data-id=\"${product.id}\"\r\n              class=\"add-to-cart self-start bg-violet-500 text-violet-50 py-2 px-5 rounded font-semibold shadow-2xl shadow-violet-200 hover:bg-rose-500 hover:shadow-rose-200 duration-200 mt-2\"\r\n            >\r\n              Add to cart\r\n            </button>\r\n          </div>\r\n      </div>\r\n    `;\r\n    productWrapper.insertAdjacentHTML(\"afterbegin\", html);\r\n  });\r\n\r\n  //===============================================================================================================//\r\n  // add to cart\r\n  //===============================================================================================================//\r\n\r\n  const addToCart = document.querySelectorAll(\".add-to-cart\");\r\n\r\n  addToCart.forEach((btn) => {\r\n    btn.addEventListener(\"click\", function (e) {\r\n      const id = e.target.dataset.id;\r\n\r\n      // cart open\r\n      modal.classList.add(\"-translate-x-0\");\r\n      modal.classList.remove(\"translate-x-full\");\r\n\r\n      // checking local data\r\n      const checkingLocalData = JSON.parse(localStorage.getItem(`item-${id}`));\r\n\r\n      if (checkingLocalData) {\r\n        return null;\r\n      }\r\n\r\n      if (!checkingLocalData) {\r\n        // rumber of items in cart\r\n        numberOfItems();\r\n        // calling another fetch function\r\n        fetchingSingleProduct(id);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\n//=================================================================================================================//\r\n// number of items in cart\r\n//=================================================================================================================//\r\n\r\nfunction numberOfItems() {\r\n  const items = Number(itemCount.textContent) + 1;\r\n  itemCount.textContent = items;\r\n}\r\n\r\n//=================================================================================================================//\r\n// fetching single product\r\n//=================================================================================================================//\r\n\r\nfunction fetchingSingleProduct(id) {\r\n  fetch(`http://localhost:8000/products/${id}`)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      saveInLocalStroage(data);\r\n      renderSingleProduct(data);\r\n    });\r\n}\r\n\r\n//=================================================================================================================//\r\n// save in local stroage\r\n//=================================================================================================================//\r\n\r\nfunction saveInLocalStroage(product) {\r\n  // getting data from locel stroage\r\n  const getLocalData = JSON.parse(localStorage.getItem(`item-${product.id}`));\r\n\r\n  // if data exists return null\r\n  if (getLocalData) return null;\r\n\r\n  // if data does not exists\r\n  if (!getLocalData) {\r\n    localStorage.setItem(`item-${product.id}`, JSON.stringify(product));\r\n  }\r\n}\r\n\r\n//=================================================================================================================//\r\n// rendering local data\r\n//=================================================================================================================//\r\n\r\nfunction renderLocalData(products) {\r\n  let localData = [];\r\n\r\n  for (let i = 1; i <= products.length; i++) {\r\n    const dataParsing = JSON.parse(localStorage.getItem(`item-${i}`));\r\n    if (dataParsing) localData.push(dataParsing);\r\n  }\r\n\r\n  // render local data\r\n  localData.forEach((product) => {\r\n    renderSingleProduct(product);\r\n  });\r\n\r\n  // render item count\r\n  const items = localData.length;\r\n  itemCount.textContent = items;\r\n}\r\n\r\n//=================================================================================================================//\r\n// rendering single product\r\n//=================================================================================================================//\r\n\r\nfunction renderSingleProduct(product) {\r\n  const html = `\r\n  <div\r\n  class=\"added-product grid grid-cols-4 border-b pb-2 justify-center overflow-hidden gap-2 items-center \"\r\n>\r\n  <div\r\n    class=\"img overflow-hidden w-20 rounded flex justify-center items-center cursor-pointer\"\r\n  >\r\n    <img\r\n      src=\"${product.image}\"\r\n      alt=\"${product.title}\"\r\n      class=\"block w-full rounded\"\r\n    />\r\n  </div>\r\n  <div class=\"texts flex flex-col gap-2 col-span-2\">\r\n    <h4 class=\"font-semibold\">${product.title}</h4>\r\n    <div class=\"flex justify-between items-center\">\r\n      <p class=\"price font-bold text-rose-500\">$${currencyFormate(\r\n        product.price\r\n      )}</p>\r\n      <p\r\n        class=\"font-semibold text-xl overfolw-hidden flex items-center bg-purple-100 gap-3\"\r\n      >\r\n        <span\r\n          class=\"bg-violet-500 text-violet-50 px-3 cursor-pointer active:bg-rose-500 select-none\"\r\n          >-</span\r\n        ><span>1</span\r\n        ><span\r\n          class=\"bg-violet-500 text-violet-50 px-3 cursor-pointer active:bg-rose-500 select-none\"\r\n          >+</span\r\n        >\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <button\r\n    class=\"romove-item hover:text-rose-500 justify-self-end pt-10 duration-200\"\r\n  >\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 24 24\"\r\n      stroke-width=\"1.5\"\r\n      stroke=\"currentColor\"\r\n      class=\"w-6 h-6\"\r\n    >\r\n      <path\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\r\n      />\r\n    </svg>\r\n  </button>\r\n</div>\r\n  `;\r\n  addedProduct.insertAdjacentHTML(\"afterbegin\", html);\r\n}\r\n\r\n//=================================================================================================================//\r\n// rendering error\r\n//=================================================================================================================//\r\n\r\nfunction renderError(err) {\r\n  const html = `\r\n      <p>${err.message}</p>\r\n  `;\r\n\r\n  productWrapper.insertAdjacentHTML(\"afterbegin\", html);\r\n}\r\n\r\n//=================================================================================================================//\r\n// modal open\r\n//=================================================================================================================//\r\n\r\ncart.addEventListener(\"click\", function () {\r\n  modal.classList.add(\"-translate-x-0\");\r\n  modal.classList.remove(\"translate-x-full\");\r\n});\r\n\r\n//=================================================================================================================//\r\n// modal close\r\n//=================================================================================================================//\r\n\r\nmodalClose.addEventListener(\"click\", function () {\r\n  modal.classList.add(\"translate-x-full\");\r\n  modal.classList.remove(\"-translate-x-0\");\r\n});\r\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}